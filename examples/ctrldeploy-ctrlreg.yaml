# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: H4sIAAAAAAAAA+1c7XPaPBLvZ/4KjXPPTNsJ5i2GG9+XoyRPy1ybZEjaTj91hC3AT2zLJ8lQrn3+91tJtjGE8JaEPtfTzrQYS95d7a5+u5IVxpj5JCasSr4JEvOAxlWPBVVGeDRmtRdPQnWgjuOoT6DVT3XdOGs1nHq72Tk7e1FvOGet1gvkPI34zZRygRlCLxilYlO/be3/ozTe6P/eBDNhz3EUPkaGdHBb+nW9/6Xrwf9Np9OotzqNJvi/03LA//WnGuQm+j/3/wnq0WTOgvFEoGa92UT9WJAQbrKEMiwgHmzUDUM0kD04GhBO2JT4duWkcoLeBx7EDPFRGvuEITEhqJtgDz6yllP0iTAZVKhp19FL2cHKmqxX/wAOc5qiCM9RTAVKOQEWAUejICSIfPNIIlAQI49GSRjg2CNoFoiJEpMxATXQl4wFHQoMvTH0T+DbqNwPYaEUljQRInFrtdlsZmOlrE3ZuBbqjrz2vt+7uLy5qILC6pGPcUg4R4z8Ow0YDHU4RzgBfTw8BC1DPEOUITxmBNoElfrOWCCCeHyKOB2JGWYEuPgBFywYpmLJWLl2MOZyBzAXjpHVvUH9Gwu96d70b06Bx+f+7burj7foc3cw6F7e9i9u0NUA9a4uz/u3/atL+PY76l5+Qf/qX56fIgKmAjHkW8Kk/qBkIM2oXIduCFlSYES1QjwhXjAKPBhXPE7xmKAxnRIWw3BQQlgUcOlMDur5wCUMokCoGOH3B2VXKjgJMve7aNqoxDgiLlqgywJyKj7hcD8RqmsXvSNhhDyJPdqkMEUhBLMnaco8wqsRjkE/MD1HBR/Z+20GaChh9A/iiUpFzBOQmzlNiqhMc63qdgPcDE2FnlbDbrTtulX52RPzSLQZ/wWBmMECpsVjZOyf/zsyJZj8fwTa1f8JCyjg2twLMed7VgRb87/TVvnfqXfq7UbjRb3ZajYdk/+PQSb/m/x/jPzPwdB+GgIj++7v3A5oDSqCuyD2XXSdQUtPQkslIgL7WGC3gpCuGDZCVGWKwxQ6NYpUUhmHdIjDczLCaShcNMIhJ8sVhpWLRArOiuEXtUMhqVyv2L9iUbAr/stpD47FnkfTeM8l4fb1X3OB//W2xP+WzP8G/5+fDP4b/D/S+k+j/Y0Gkq4Gkr3hXvfi4Djo+v07sgckJBjEXea30Z9/Qq8QD0nIJVck/WXfpUMYBwEok7lnF0k/e2Yeh3bFfzbE3qEbgVvw/6zdchb473QA/xvNM4P/RyGD/wb/nwv/q9XqUg5QGIJTMYHa+z86tlbXAr0Q5iNhAxqSNamhwChu57hleyFNfXdb0nh8Olj/pNqbjNflIpmGWAqx41aq8GDwltE0URrIrwmHi2IzU9/1SRLSeURiUW5UeU13kKKrwEpNQakR/D/M2sZEqM8Q4khdzLDwJuoqUVcHKbFdwD22D/rovixPO/tAQdjPwpGRsZw85YC6LytKZaTG4xkZTii982g8Csapfmg3BeRVmkBAEq08I/nlAwbewxJ+zBnxKPMPtEXBbqskvW3uF3eX5VmvrfvMLes+m6IIe/4oWXRd+VqDqSfS3Z2XrLpxp5HqSIlwosVzAo4XmSrT+9NkrQU9Cq4N4s0RqqBjhVsWZI8D0jdwAyL/V8BTGM2AjKTY3MIbjAG97ieVxw6dp0P5Vkmh+toFzVMuY45Q/+1a/3+dkBAqAG6LZO8lwLb9H6fpLL//aTY6TtvU/8cgWeKaFYBZATzLCuCk8v17FUFNOQpi8HsQAT8LVdUGjWwJRmiC+TWD9m/I4hPcdNquhexPck8fIFz2twUeo+KJhAWxGCHrN/7P3/hqT0YSygNB2XwTC8hbZB1D92CGsS+/lC5/9qTeg3bF/6IMquqrfd4Bb8X/TmMF/9UxMIP/RyCD/wb/nxn/AeVz9MywQ2Lk2pcDPdX+ASf7vhfIUemI7wdy7eQQV8f3AwLhC+AjXIDlgAlMrb9mjtgf/1UGnMIaiLKqDA0Z7GRjNtiG/3LPfxn/2+1m3eD/Mcjgv8H/4+G/wo5PCjuucuh4hmSwFqJ+QmpQevCvyyjpoh8VKX2TSX6gLGucPXfW2BX/F+8F9n8LvAX/nXqntYL/Tadu6v+jkEF/g/7HOP8j3zYu3k6cF2jyFz4AJI3hqvc000C2vQMXUTZ/L0ftorpqUYHAtSIZoGc3e/JtgFaFg4YS37UykXwN9b6k3eFvUHJ4zhiXLKm4xjCrtHvyW8W227aEnHeH6eHd8TSqHZBwlVWC2AtTn6CXaqMN/c2+zXS234DTrjHMZ2unxYX1CtmQF/UmIWhU1rKUIPWNcMm8j3lFlQeBpKR8UPlyRwbS/eUXRLs/B1aRiAYzKFeguuMM0aRsueSEfAfWLhtP3btOw/CaQtzOl2JZ73YmRWP5ORJPDw6rfCD9D923F58uerdXg69Xny4Gnwf924uiF0LZ4e6a+luwUiFVW1tZrcbDSoSs34dYVQnw9Pf+25vN6qzbd3hINKSvCPDSLUnaPJuKjlMaphH5IKPm4Rm8YSirugFESF5y0u07iAP9+1AhvlafVR+X+jGC/as4hOAULCUPz3ttscJY20z1kKG8fOXhlnTYbxdqrXp7WXE3Gx6s6jbX+PrvJz5QH1idNev3x/SzS1dDT0Cb139THaiP/AGAbed/W2eN1b//NPt/RyKz/jPrv+da/5VXQi5qVConJyfoVnpYDljnF11TKQUWf8avcpO05hD+J1zaRHleLh6rQywjLmF0GvhwEVIPh7q5+PM9PAStUcN2HOlEENofqUib4Vj9okCR71AgTlGi1o85R60Ql916UIAzGoaELdareTemdyftDCErutjWa8LszICrdZtQLlynXm9srfoEHsMzcrtNHiNLSiV5N5zhOdcGvLy6vXDBjIWmhSnA3xDp8I9CqaRM6kOGD2kiFa9JtsqPKUxtiHT5ywkQZuQbhriQMwl4n5edwrODG76ahKo6s8cUwZy5k+6BiUCiIZFHC7PWrCpX6ULpoea7PuSoJiRLxcTSkq610X2qp34sq2RpXgHmAthI9awrO+0PQGpgMUfWRP48RL72RbalvE9TsYggGePrqiu59ypRQCvqquudFlXV7Eco9O9HaCApu+skK1MP8/197rspBYOIxdNrk7PNqlltphGljdx88I3RqDRh9W91lKoFlPcLGHgtlMd/sjucAFtf3SogmdNIYg/28lsgrLm/MEBPNJtgoc8VAQJEEMuBlqTrYgi17NRyIae1kJPFoIusbRKt4glpITf7lhfelsgwDmYmoKZVNIM4Fw0xW0g/W0gvg6NcfA765xcFSiZ6+a30eiButJblki1jrJ9dKNn1RDAFNQWFFjqeV3GWpDTlKX6wOJ6cNyHUu/7ooo5Tj7J78PyYsEWPczJMIQ7zo835r7ScejLRnmpNTotWTwNs9rSfRsmCk8ZXF3Bj5NqvT0eAhu7Llz11IPrVj5cDEgGKy4s0hv8/qhPdcHED1ZxQnzR59cp+bVYphgwZMmTIkCFDhgwZMmTIkCFDhgwZMmTIkCFDhgwZMmTIkCFDhgwZMmTIkCFDhn4l+i+qbV8SAHgAAA==

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      fallback: |
        policy:
          Active: balloons
      default: |
        policy:
          Active: balloons
          AvailableResources:
            CPU: cpuset:1-15
          ReservedResources:
            CPU: cpuset:15
          balloons:
            PinCPU: true
            PinMemory: true
            IdleCPUClass: idle
            BalloonTypes:
              - Name: "full-core-turbo"
                MinCPUs: 2
                CPUClass: "turbo"
                MinBalloons: 2
        logger:
          Debug: resource-manager,cache,policy,resource-control
          Klog:
            # Enables nice logs with logger names that can be used in Debug
            skip_headers: true
        dump:
          Config: off:.*,full:((Create)|(Remove)|(Run)|(Update)|(Start)|(Stop)).*

    ### Example of how to use default
    #   fallback: |
    #     ### This is default policy from CRI-resource-manage fallback.cfg.sample
    #     policy:
    #       Active: topology-aware
    #       ReservedResources:
    #         CPU: 750m
    #     logger:
    #       Debug: resource-manager,cache,policy,resource-control
    #       Klog:
    #         # Enables nice logs with logger names that can be used in Debug
    #         skip_headers: true
    #     dump:
    #       Config: off:.*,full:((Create)|(Remove)|(Run)|(Update)|(Start)|(Stop)).*
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For development purpose - deploy the extensions before even shoots are created (or enabled)
    #policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "60s"
