# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      ### Those options are passed directly to cri-resmgr binary.
      # EXTRA_OPTIONS: | 
      #   EXTRA_OPTIONS="--metrics-interval 10s" 
      ### This is *dynamic* config that will be applied by cri-resmgr-agent
      # default: |
      #   policy:
      #     Active: balloons
      #     AvailableResources:
      #       CPU: cpuset:1-128
      #     ReservedResources:
      #       CPU: 1
      #     balloons:
      #       BalloonTypes:
      #         - Name: "HP-balloon"
      #           MinCPUs: 2
      #           MaxCPUs: 2
      #           MinBalloons: 1
      #           Namespaces:
      #           - nginx
      #         - Name: "LP-balloon"
      #           MinCPUs: 4
      #           MaxCPUs: 4
      #           MinBalloons: 1
      #           Namespaces:
      #           - stress
      #   instrumentation:
      #     HTTPEndpoint: :8891
      #     PrometheusExport: true
      #   logger:
      #     Debug: resource-manager,cache,policy,config-server,cpuallocator
      #     Klog:
      #       # Enables nice logs with logger names that can be used in Debug
      #       skip_headers: true
      #   dump:
      #     Debug: true

---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For development purpose - deploy the extensions before even shoots are created (or enabled)
    #policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "120s"
