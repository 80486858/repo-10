# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      ### Those options are passed directly to cri-resmgr binary.
      # EXTRA_OPTIONS: | 
      #   EXTRA_OPTIONS="--metrics-interval 10s" 
      ### This is *dynamic* config that will be applied by cri-resmgr-agent
      # default: |
      #   policy:
      #     Active: balloons
      #     AvailableResources:
      #       CPU: cpuset:1-128
      #     ReservedResources:
      #       CPU: 1
      #     balloons:
      #       BalloonTypes:
      #         - Name: "HP-balloon"
      #           MinCPUs: 2
      #           MaxCPUs: 2
      #           MinBalloons: 1
      #           Namespaces:
      #           - nginx
      #         - Name: "LP-balloon"
      #           MinCPUs: 4
      #           MaxCPUs: 4
      #           MinBalloons: 1
      #           Namespaces:
      #           - stress
      #   instrumentation:
      #     HTTPEndpoint: :8891
      #     PrometheusExport: true
      #   logger:
      #     Debug: resource-manager,cache,policy,config-server,cpuallocator
      #     Klog:
      #       # Enables nice logs with logger names that can be used in Debug
      #       skip_headers: true
      #   dump:
      #     Debug: true

---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For demo/development purpose - deploy the extensions before even shoots are created (or enabled)
    policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "120s"
