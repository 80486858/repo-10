# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      fallback: |
        policy:
          Active: balloons
      default: |
        policy:
          Active: balloons
          AvailableResources:
            CPU: cpuset:1-15
          ReservedResources:
            CPU: cpuset:15
          balloons:
            PinCPU: true
            PinMemory: true
            IdleCPUClass: idle
            BalloonTypes:
              - Name: "full-core-turbo"
                MinCPUs: 2
                CPUClass: "turbo"
                MinBalloons: 2
        logger:
          Debug: resource-manager,cache,policy,resource-control,config-server
          Klog:
            # Enables nice logs with logger names that can be used in Debug
            skip_headers: true
        dump:
          Config: off:.*,full:((Create)|(Remove)|(Run)|(Update)|(Start)|(Stop)).*
        instrumentation:
          PrometheusExport: true
    ### Example of how to use default
    #   fallback: |
    #     ### This is default policy from CRI-resource-manage fallback.cfg.sample
    #     policy:
    #       Active: topology-aware
    #       ReservedResources:
    #         CPU: 750m
    #     logger:
    #       Debug: resource-manager,cache,policy,resource-control
    #       Klog:
    #         # Enables nice logs with logger names that can be used in Debug
    #         skip_headers: true
    #     dump:
    #       Config: off:.*,full:((Create)|(Remove)|(Run)|(Update)|(Start)|(Stop)).*
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For development purpose - deploy the extensions before even shoots are created (or enabled)
    #policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "60s"
