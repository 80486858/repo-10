# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      fallback: |
        policy:
          Active: balloons
      default: |
        policy:
          Active: balloons
          AvailableResources:
            CPU: cpuset:1-15
          ReservedResources:
            CPU: cpuset:15
          balloons:
            PinCPU: true
            PinMemory: true
            IdleCPUClass: idle
            BalloonTypes:
              - Name: "full-core-turbo"
                MinCPUs: 2
                CPUClass: "turbo"
                MinBalloons: 2
        logger:
          Debug: resource-manager,cache,policy,resource-control,config-server
          Klog:
            # Enables nice logs with logger names that can be used in Debug
            skip_headers: true
        dump:
          Config: off:.*,full:((Create)|(Remove)|(Run)|(Update)|(Start)|(Stop)).*
        instrumentation:
          PrometheusExport: true
    ### Example of how to use default
    #   fallback: |
    #     ### This is default policy from CRI-resource-manage fallback.cfg.sample
    #     policy:
    #       Active: topology-aware
    #       ReservedResources:
    #         CPU: 750m
    #     logger:
    #       Debug: resource-manager,cache,policy,resource-control
    #       Klog:
    #         # Enables nice logs with logger names that can be used in Debug
    #         skip_headers: true
    #     dump:
    #       Config: off:.*,full:((Create)|(Remove)|(Run)|(Update)|(Start)|(Stop)).*
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For development purpose - deploy the extensions before even shoots are created (or enabled)
    #policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "60s"
