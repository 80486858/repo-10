# This file is generated by hacks/generate-controller-registration.sh - Do not commit, but change generation script!
---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerDeployment
metadata:
  name: cri-resmgr-extension
type: helm
providerConfig:
  chart: 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

  values:
    ### For development purposes - set it to 0 (if you want to register extension but use local process with "make start").
    # replicaCount: 1            

    ### Uncomment this is you want to overwrite extension image or internal installation and agent images.
    ### Remember to build and push image  "make REGISTRY=v2.isvimgreg.com TAG=mybranch build-images push-images"
    ### "image" overwrites extension (for seed) and "images" overwrite installation/agent (for shoot) images defined in charts/images.yaml
    #image:
    #  repository: v2.isvimgreg.com/gardener-extension-cri-resmgr
    #  tag: mybranch
    #  pullPolicy: Always
    #imageVectorOverwrite: |
    #  images:
    #  - name: gardener-extension-cri-resmgr-installation
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-installation
    #  - name: gardener-extension-cri-resmgr-agent
    #    tag: mybranch
    #    repository: v2.isvimgreg.com/gardener-extension-cri-resmgr-agent
    ### Uncomment to provide own "fallback" configuration for CRI-Resource-Manager
    ### Use ballons policy as an example:
    # based on: https://github.com/intel/cri-resource-manager/blob/master/sample-configs/balloons-policy.cfg
    configs:
      ### Those options are passed directly to cri-resmgr binary.
      # EXTRA_OPTIONS: | 
      #   EXTRA_OPTIONS="--metrics-interval 10s" 
      ### This is *dynamic* config that will be applied by cri-resmgr-agent
      # default: |
      #   policy:
      #     Active: balloons
      #     AvailableResources:
      #       CPU: cpuset:1-128
      #     ReservedResources:
      #       CPU: 1
      #     balloons:
      #       BalloonTypes:
      #         - Name: "HP-balloon"
      #           MinCPUs: 2
      #           MaxCPUs: 2
      #           MinBalloons: 1
      #           Namespaces:
      #           - nginx
      #         - Name: "LP-balloon"
      #           MinCPUs: 4
      #           MaxCPUs: 4
      #           MinBalloons: 1
      #           Namespaces:
      #           - stress
      #   instrumentation:
      #     HTTPEndpoint: :8891
      #     PrometheusExport: true
      #   logger:
      #     Debug: resource-manager,cache,policy,config-server,cpuallocator
      #     Klog:
      #       # Enables nice logs with logger names that can be used in Debug
      #       skip_headers: true
      #   dump:
      #     Debug: true

---
apiVersion: core.gardener.cloud/v1beta1
kind: ControllerRegistration
metadata:
  name: cri-resmgr-extension
spec:
  deployment:
    # For demo/development purpose - deploy the extensions before even shoots are created (or enabled)
    policy: Always
    deploymentRefs:
    - name: cri-resmgr-extension
  resources:
  - kind: Extension
    type: cri-resmgr-extension
    globallyEnabled: false
    reconcileTimeout: "120s"
