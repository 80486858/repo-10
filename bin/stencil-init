#!/usr/bin/env node

require('colors');
const StencilInit = require('../lib/stencil-init');
const pkg = require('../package.json');
const Program = require('commander');
const JspmAssembler = require('../lib/jspm-assembler');
const ThemeConfig = require('../lib/theme-config');
const dotStencilFilePath = './.stencil';
const versionCheck = require('../lib/version-check');

Program
    .version(pkg.version)
    .option('-u, --url [url]', 'Store URL')
    .option('-t, --token [token]', 'Access Token')
    .option('-p, --port [port]', 'Port')
    .parse(process.argv);

if (!versionCheck()) {
    return;
}

StencilInit.run(JspmAssembler, ThemeConfig, dotStencilFilePath, Program.url, Program.token, Program.port);
