---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "distribution_release_bundle_v1 Resource - terraform-provider-distribution"
subcategory: ""
description: |-
  This resource enables you to create a new Release Bundle V1 version. For more information, see Create Release Bundle V1 https://jfrog.com/help/r/jfrog-distribution-documentation/create-release-bundles-v1 and REST API https://jfrog.com/help/r/jfrog-rest-apis/release-bundles-v1.
  ~>User must have matching Release Bundle writer permissions.
---

# distribution_release_bundle_v1 (Resource)

This resource enables you to create a new Release Bundle V1 version. For more information, see [Create Release Bundle V1](https://jfrog.com/help/r/jfrog-distribution-documentation/create-release-bundles-v1) and [REST API](https://jfrog.com/help/r/jfrog-rest-apis/release-bundles-v1).

~>User must have matching Release Bundle writer permissions.

## Example Usage

```terraform
resource "distribution_release_bundle_v1" "my-release-bundle-v1" {
  name = "my-release-bundle-v1"
  version = "1.0.0"
  sign_immediately = true
  description = "My description"

  release_notes = {
    syntax = "plain_text"
    content = "My release notes"
  }

  spec = {
    queries = [{
      aql = "items.find({ \"repo\" : \"example-repo-local\" })"
      query_name: "query-1"

      mappings = [{
        input = "original_repository/(.*)"
        output = "new_repository/$1"
      }]

      added_props = [{
        key = "my-key"
        values = ["my-value"]
      }]
      
      exclude_props_patterns = [
        "my-prop-*"
      ]
    }]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Release bundle name. Must begin with a letter or digit and consist only of letters, digits, underscores, periods, hyphens, and colons.
- `spec` (Attributes) Describes the specification by artifacts are gathered and distributed in this release bundle. (see [below for nested schema](#nestedatt--spec))
- `version` (String) Release bundle version. Must begin with a letter or digit and consist only of letters, digits, underscores, periods, hyphens, and colons. The string `LATEST` is prohibited.

### Optional

- `description` (String) Description of the release bundle.
- `dry_run` (Boolean) When set to `true`, only parses and validates.
- `gpg_passphase` (String, Sensitive) Passphrase for the signing key, if applicable
- `release_notes` (Attributes) Describes the release notes for the release bundle version. (see [below for nested schema](#nestedatt--release_notes))
- `sign_immediately` (Boolean) When set to `true`, automatically signs the release bundle version.
- `storing_repository` (String) A repository name at source Artifactory to store release bundle artifacts in. If not provided, Artifactory will use the default one (requires Artifactory 6.5 or later).

### Read-Only

- `archived` (Boolean)
- `artifacts` (Attributes Set) (see [below for nested schema](#nestedatt--artifacts))
- `artifacts_size` (Number)
- `created` (String)
- `created_by` (String)
- `distributed_by` (String)
- `state` (String)

<a id="nestedatt--spec"></a>
### Nested Schema for `spec`

Required:

- `queries` (Attributes Set) List of query objects to gather artifacts by. (see [below for nested schema](#nestedatt--spec--queries))

<a id="nestedatt--spec--queries"></a>
### Nested Schema for `spec.queries`

Required:

- `aql` (String) AQL query for gathering the artifacts from Artifactory.

Optional:

- `added_props` (Attributes Set) List of added properties which will be added to the artifacts after distribution of the release bundle (see [below for nested schema](#nestedatt--spec--queries--added_props))
- `exclude_props_patterns` (Set of String) List of patterns for Properties keys to exclude after distribution of the release bundle. This will not have an effect on the `added_props` attribute.
- `mappings` (Attributes Set) List of mappings, which are applied to the artifact paths after distribution of the release bundle (see [below for nested schema](#nestedatt--spec--queries--mappings))
- `query_name` (String) A name to be used when displaying the query object. Note that the release bundle query name length must be between 2 and 32 characters long and must start with alphabetic character followed by an alphanumeric or `_-.:` characters only.

<a id="nestedatt--spec--queries--added_props"></a>
### Nested Schema for `spec.queries.added_props`

Required:

- `key` (String) Property key to be created or updated on the distributed artifacts.

Optional:

- `values` (Set of String) List of values to be added to the property key after distribution of the release bundle


<a id="nestedatt--spec--queries--mappings"></a>
### Nested Schema for `spec.queries.mappings`

Required:

- `input` (String) Regex matcher for artifact paths.
- `output` (String) Replacement for artifact paths matched by the `input` matcher. Capture groups can be used as `$1`.




<a id="nestedatt--release_notes"></a>
### Nested Schema for `release_notes`

Required:

- `content` (String) The content of the release notes.

Optional:

- `syntax` (String) The syntax for the release notes. Options include: `markdown`, `asciidoc`, `plain_text` (default).


<a id="nestedatt--artifacts"></a>
### Nested Schema for `artifacts`

Read-Only:

- `checksum` (String)
- `props` (Attributes Set) (see [below for nested schema](#nestedatt--artifacts--props))
- `source_repo_path` (String)
- `target_repo_path` (String)

<a id="nestedatt--artifacts--props"></a>
### Nested Schema for `artifacts.props`

Read-Only:

- `key` (String)
- `values` (Set of String)

## Import

Import is supported using the following syntax:

```shell
import distribution_release_bundle_v1.my-release-bundle-v1 my-release-bundle-v1:1.0.0
```
